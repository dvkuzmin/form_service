# Сервис определения заполненных форм

## Базовые технологии проекта

- Python
- Flask
- MongoDB
- Docker
- Docker-Compose

## Инструкция по развертыванию тестового проекта

### Настройка проекта

Создайте `.env` файл в корне репозитория:

```bash
cp .env.example .env
```

Внесите при необходимости корректировки в переменные окружения.
### Сборка образов и запуск контейнеров

В корне репозитория выполните команду:

```bash
docker-compose up --build
```

При первом запуске данный процесс может занять несколько минут.

### Остановка контейнеров

Для остановки контейнеров выполните команду:

```bash
docker-compose stop
```

### Инициализация проекта

Запуск сервиса и применение миграций происходят в автоматическом режиме.
Команды выполняются внутри контейнера приложения:

```bash
docker-compose exec form_app bash
```

#### Внешние порты

- 27017:27017 - БД MongoDB
- 5000:5000 - API

### Тестовые запросы

- в корне проекта запустите файл client.py, который будет производить тестовые запросы.


### Описание работы сервиса

При первом запуске происходит заполнение базы данных шаблонами формы из фикстур. 
Фикстуры находятся в файле ./form_app/src/repository/fixtures.py. После отправки 
формы, сервис находит шаблон формы из БД, совпадающую по названиям полей и соответствующими
типами данных в этих полях полям формы клиента, прошедших валидацию. Если шаблон формы 
был найден, то возвращается название этого шаблона из БД. Если форма клиента не соответствует ни 
одной записи из БД, то клиент получит шаблон формы с типами данных, соответствущими 
полям формы клиента.

#### Описание задания

Задание находится по [ссылке](https://docs.google.com/document/d/1fMFwPBs53xzcrltEFOpEG4GWTaQ-5jvVLrNT6_hmC7I/edit)